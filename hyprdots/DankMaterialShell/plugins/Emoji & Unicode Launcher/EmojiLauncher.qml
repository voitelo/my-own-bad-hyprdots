import QtQuick
import Quickshell
import qs.Services

Item {
    id: root

    property var pluginService: null
    property string trigger: ":"

    signal itemsChanged()

    property var emojiDatabase: [
        {emoji: "ğŸ˜€", name: "Grinning Face", keywords: ["happy", "smile", "grin"]},
        {emoji: "ğŸ˜ƒ", name: "Grinning Face with Big Eyes", keywords: ["happy", "joy", "smile"]},
        {emoji: "ğŸ˜„", name: "Grinning Face with Smiling Eyes", keywords: ["happy", "joy", "laugh"]},
        {emoji: "ğŸ˜", name: "Beaming Face with Smiling Eyes", keywords: ["happy", "grin", "excited"]},
        {emoji: "ğŸ˜†", name: "Grinning Squinting Face", keywords: ["laugh", "happy", "excited"]},
        {emoji: "ğŸ˜…", name: "Grinning Face with Sweat", keywords: ["hot", "happy", "laugh", "relief"]},
        {emoji: "ğŸ¤£", name: "Rolling on the Floor Laughing", keywords: ["lol", "laugh", "rofl"]},
        {emoji: "ğŸ˜‚", name: "Face with Tears of Joy", keywords: ["laugh", "cry", "joy"]},
        {emoji: "ğŸ™‚", name: "Slightly Smiling Face", keywords: ["smile", "happy"]},
        {emoji: "ğŸ™ƒ", name: "Upside-Down Face", keywords: ["silly", "sarcasm"]},
        {emoji: "ğŸ˜‰", name: "Winking Face", keywords: ["wink", "flirt"]},
        {emoji: "ğŸ˜Š", name: "Smiling Face with Smiling Eyes", keywords: ["happy", "blush", "smile"]},
        {emoji: "ğŸ˜‡", name: "Smiling Face with Halo", keywords: ["angel", "innocent"]},
        {emoji: "ğŸ¥°", name: "Smiling Face with Hearts", keywords: ["love", "crush", "hearts"]},
        {emoji: "ğŸ˜", name: "Smiling Face with Heart-Eyes", keywords: ["love", "crush", "hearts"]},
        {emoji: "ğŸ¤©", name: "Star-Struck", keywords: ["eyes", "excited", "star"]},
        {emoji: "ğŸ˜˜", name: "Face Blowing a Kiss", keywords: ["kiss", "love"]},
        {emoji: "ğŸ˜—", name: "Kissing Face", keywords: ["kiss", "love"]},
        {emoji: "ğŸ˜š", name: "Kissing Face with Closed Eyes", keywords: ["kiss", "love"]},
        {emoji: "ğŸ˜™", name: "Kissing Face with Smiling Eyes", keywords: ["kiss", "love"]},
        {emoji: "ğŸ˜‹", name: "Face Savoring Food", keywords: ["yum", "delicious", "food"]},
        {emoji: "ğŸ˜›", name: "Face with Tongue", keywords: ["tongue", "silly"]},
        {emoji: "ğŸ˜œ", name: "Winking Face with Tongue", keywords: ["wink", "tongue", "silly"]},
        {emoji: "ğŸ¤ª", name: "Zany Face", keywords: ["crazy", "wild", "silly"]},
        {emoji: "ğŸ˜", name: "Squinting Face with Tongue", keywords: ["tongue", "silly"]},
        {emoji: "ğŸ¤‘", name: "Money-Mouth Face", keywords: ["money", "rich", "cash"]},
        {emoji: "ğŸ¤—", name: "Hugging Face", keywords: ["hug", "love"]},
        {emoji: "ğŸ¤­", name: "Face with Hand Over Mouth", keywords: ["quiet", "oops", "secret"]},
        {emoji: "ğŸ¤«", name: "Shushing Face", keywords: ["quiet", "shh", "secret"]},
        {emoji: "ğŸ¤”", name: "Thinking Face", keywords: ["think", "hmm", "consider"]},
        {emoji: "ğŸ¤", name: "Zipper-Mouth Face", keywords: ["quiet", "secret", "sealed"]},
        {emoji: "ğŸ¤¨", name: "Face with Raised Eyebrow", keywords: ["suspicious", "skeptical"]},
        {emoji: "ğŸ˜", name: "Neutral Face", keywords: ["neutral", "meh"]},
        {emoji: "ğŸ˜‘", name: "Expressionless Face", keywords: ["blank", "meh"]},
        {emoji: "ğŸ˜¶", name: "Face Without Mouth", keywords: ["silent", "quiet"]},
        {emoji: "ğŸ˜", name: "Smirking Face", keywords: ["smirk", "sly"]},
        {emoji: "ğŸ˜’", name: "Unamused Face", keywords: ["annoyed", "meh"]},
        {emoji: "ğŸ™„", name: "Face with Rolling Eyes", keywords: ["annoyed", "eye roll"]},
        {emoji: "ğŸ˜¬", name: "Grimacing Face", keywords: ["awkward", "nervous"]},
        {emoji: "ğŸ˜”", name: "Pensive Face", keywords: ["sad", "thoughtful"]},
        {emoji: "ğŸ˜ª", name: "Sleepy Face", keywords: ["tired", "sleep"]},
        {emoji: "ğŸ¤¤", name: "Drooling Face", keywords: ["drool", "sleep"]},
        {emoji: "ğŸ˜´", name: "Sleeping Face", keywords: ["sleep", "tired", "zzz"]},
        {emoji: "ğŸ˜·", name: "Face with Medical Mask", keywords: ["sick", "mask", "doctor"]},
        {emoji: "ğŸ¤’", name: "Face with Thermometer", keywords: ["sick", "ill", "fever"]},
        {emoji: "ğŸ¤•", name: "Face with Head-Bandage", keywords: ["hurt", "injured", "bandage"]},
        {emoji: "ğŸ¤¢", name: "Nauseated Face", keywords: ["sick", "gross"]},
        {emoji: "ğŸ¤®", name: "Face Vomiting", keywords: ["sick", "vomit", "puke"]},
        {emoji: "ğŸ¤§", name: "Sneezing Face", keywords: ["sick", "sneeze"]},
        {emoji: "ğŸ¥µ", name: "Hot Face", keywords: ["hot", "sweat"]},
        {emoji: "ğŸ¥¶", name: "Cold Face", keywords: ["cold", "freeze"]},
        {emoji: "ğŸ˜µ", name: "Dizzy Face", keywords: ["dizzy", "confused"]},
        {emoji: "ğŸ¤¯", name: "Exploding Head", keywords: ["mind blown", "shocked"]},
        {emoji: "ğŸ¤ ", name: "Cowboy Hat Face", keywords: ["cowboy", "hat"]},
        {emoji: "ğŸ¥³", name: "Partying Face", keywords: ["party", "celebrate"]},
        {emoji: "ğŸ˜", name: "Smiling Face with Sunglasses", keywords: ["cool", "sunglasses"]},
        {emoji: "ğŸ¤“", name: "Nerd Face", keywords: ["nerd", "geek", "glasses"]},
        {emoji: "ğŸ§", name: "Face with Monocle", keywords: ["fancy", "classy"]},
        {emoji: "ğŸ˜•", name: "Confused Face", keywords: ["confused", "puzzled"]},
        {emoji: "ğŸ˜Ÿ", name: "Worried Face", keywords: ["worried", "concerned"]},
        {emoji: "ğŸ™", name: "Slightly Frowning Face", keywords: ["sad", "frown"]},
        {emoji: "â˜¹ï¸", name: "Frowning Face", keywords: ["sad", "frown"]},
        {emoji: "ğŸ˜®", name: "Face with Open Mouth", keywords: ["wow", "surprised"]},
        {emoji: "ğŸ˜¯", name: "Hushed Face", keywords: ["surprised", "quiet"]},
        {emoji: "ğŸ˜²", name: "Astonished Face", keywords: ["shocked", "surprised"]},
        {emoji: "ğŸ˜³", name: "Flushed Face", keywords: ["blush", "embarrassed"]},
        {emoji: "ğŸ¥º", name: "Pleading Face", keywords: ["puppy eyes", "please"]},
        {emoji: "ğŸ˜¦", name: "Frowning Face with Open Mouth", keywords: ["shocked", "sad"]},
        {emoji: "ğŸ˜§", name: "Anguished Face", keywords: ["scared", "worried"]},
        {emoji: "ğŸ˜¨", name: "Fearful Face", keywords: ["scared", "afraid"]},
        {emoji: "ğŸ˜°", name: "Anxious Face with Sweat", keywords: ["nervous", "worried"]},
        {emoji: "ğŸ˜¥", name: "Sad but Relieved Face", keywords: ["sad", "relief"]},
        {emoji: "ğŸ˜¢", name: "Crying Face", keywords: ["cry", "sad", "tears"]},
        {emoji: "ğŸ˜­", name: "Loudly Crying Face", keywords: ["cry", "sob", "sad"]},
        {emoji: "ğŸ˜±", name: "Face Screaming in Fear", keywords: ["scream", "scared"]},
        {emoji: "ğŸ˜–", name: "Confounded Face", keywords: ["confused", "frustrated"]},
        {emoji: "ğŸ˜£", name: "Persevering Face", keywords: ["struggle", "effort"]},
        {emoji: "ğŸ˜", name: "Disappointed Face", keywords: ["sad", "disappointed"]},
        {emoji: "ğŸ˜“", name: "Downcast Face with Sweat", keywords: ["sad", "sweat"]},
        {emoji: "ğŸ˜©", name: "Weary Face", keywords: ["tired", "exhausted"]},
        {emoji: "ğŸ˜«", name: "Tired Face", keywords: ["tired", "exhausted"]},
        {emoji: "ğŸ¥±", name: "Yawning Face", keywords: ["tired", "bored", "yawn"]},
        {emoji: "ğŸ˜¤", name: "Face with Steam From Nose", keywords: ["angry", "frustrated"]},
        {emoji: "ğŸ˜¡", name: "Pouting Face", keywords: ["angry", "mad"]},
        {emoji: "ğŸ˜ ", name: "Angry Face", keywords: ["angry", "mad"]},
        {emoji: "ğŸ¤¬", name: "Face with Symbols on Mouth", keywords: ["swear", "angry", "cursing"]},
        {emoji: "â¤ï¸", name: "Red Heart", keywords: ["love", "heart", "red"]},
        {emoji: "ğŸ§¡", name: "Orange Heart", keywords: ["love", "heart", "orange"]},
        {emoji: "ğŸ’›", name: "Yellow Heart", keywords: ["love", "heart", "yellow"]},
        {emoji: "ğŸ’š", name: "Green Heart", keywords: ["love", "heart", "green"]},
        {emoji: "ğŸ’™", name: "Blue Heart", keywords: ["love", "heart", "blue"]},
        {emoji: "ğŸ’œ", name: "Purple Heart", keywords: ["love", "heart", "purple"]},
        {emoji: "ğŸ–¤", name: "Black Heart", keywords: ["love", "heart", "black"]},
        {emoji: "ğŸ¤", name: "White Heart", keywords: ["love", "heart", "white"]},
        {emoji: "ğŸ¤", name: "Brown Heart", keywords: ["love", "heart", "brown"]},
        {emoji: "ğŸ’”", name: "Broken Heart", keywords: ["heartbreak", "sad", "broken"]},
        {emoji: "â¤ï¸â€ğŸ”¥", name: "Heart on Fire", keywords: ["love", "passion", "fire"]},
        {emoji: "ğŸ’•", name: "Two Hearts", keywords: ["love", "hearts"]},
        {emoji: "ğŸ’", name: "Revolving Hearts", keywords: ["love", "hearts"]},
        {emoji: "ğŸ’“", name: "Beating Heart", keywords: ["love", "heartbeat"]},
        {emoji: "ğŸ’—", name: "Growing Heart", keywords: ["love", "hearts"]},
        {emoji: "ğŸ’–", name: "Sparkling Heart", keywords: ["love", "sparkle"]},
        {emoji: "ğŸ’˜", name: "Heart with Arrow", keywords: ["love", "cupid"]},
        {emoji: "ğŸ’", name: "Heart with Ribbon", keywords: ["love", "gift"]},
        {emoji: "ğŸ‘", name: "Thumbs Up", keywords: ["yes", "ok", "good", "agree"]},
        {emoji: "ğŸ‘", name: "Thumbs Down", keywords: ["no", "bad", "disagree"]},
        {emoji: "ğŸ‘Š", name: "Oncoming Fist", keywords: ["fist", "punch"]},
        {emoji: "âœŠ", name: "Raised Fist", keywords: ["fist", "power"]},
        {emoji: "ğŸ¤›", name: "Left-Facing Fist", keywords: ["fist", "punch"]},
        {emoji: "ğŸ¤œ", name: "Right-Facing Fist", keywords: ["fist", "punch"]},
        {emoji: "ğŸ¤", name: "Crossed Fingers", keywords: ["luck", "hope", "fingers crossed"]},
        {emoji: "âœŒï¸", name: "Victory Hand", keywords: ["peace", "victory"]},
        {emoji: "ğŸ¤Ÿ", name: "Love-You Gesture", keywords: ["love", "hand"]},
        {emoji: "ğŸ¤˜", name: "Sign of the Horns", keywords: ["rock", "metal"]},
        {emoji: "ğŸ‘Œ", name: "OK Hand", keywords: ["ok", "okay", "good"]},
        {emoji: "ğŸ¤Œ", name: "Pinched Fingers", keywords: ["italian", "fingers"]},
        {emoji: "ğŸ¤", name: "Pinching Hand", keywords: ["small", "tiny"]},
        {emoji: "ğŸ‘ˆ", name: "Backhand Index Pointing Left", keywords: ["left", "point"]},
        {emoji: "ğŸ‘‰", name: "Backhand Index Pointing Right", keywords: ["right", "point"]},
        {emoji: "ğŸ‘†", name: "Backhand Index Pointing Up", keywords: ["up", "point"]},
        {emoji: "ğŸ‘‡", name: "Backhand Index Pointing Down", keywords: ["down", "point"]},
        {emoji: "â˜ï¸", name: "Index Pointing Up", keywords: ["up", "one", "point"]},
        {emoji: "âœ‹", name: "Raised Hand", keywords: ["hand", "stop", "high five"]},
        {emoji: "ğŸ¤š", name: "Raised Back of Hand", keywords: ["hand", "stop"]},
        {emoji: "ğŸ”¥", name: "Fire", keywords: ["fire", "hot", "flame"]},
        {emoji: "ğŸ’¯", name: "Hundred Points", keywords: ["100", "perfect", "score"]},
        {emoji: "â­", name: "Star", keywords: ["star", "favorite"]},
        {emoji: "âœ¨", name: "Sparkles", keywords: ["sparkle", "shine", "glitter"]},
        {emoji: "ğŸ’«", name: "Dizzy", keywords: ["dizzy", "stars"]},
        {emoji: "ğŸ‰", name: "Party Popper", keywords: ["party", "celebrate", "confetti"]},
        {emoji: "ğŸŠ", name: "Confetti Ball", keywords: ["party", "celebrate", "confetti"]},
        {emoji: "ğŸˆ", name: "Balloon", keywords: ["party", "balloon"]},
        {emoji: "ğŸ", name: "Wrapped Gift", keywords: ["gift", "present"]},
        {emoji: "ğŸ†", name: "Trophy", keywords: ["trophy", "win", "award"]},
        {emoji: "ğŸ¥‡", name: "1st Place Medal", keywords: ["gold", "first", "medal", "winner"]},
        {emoji: "ğŸ¥ˆ", name: "2nd Place Medal", keywords: ["silver", "second", "medal"]},
        {emoji: "ğŸ¥‰", name: "3rd Place Medal", keywords: ["bronze", "third", "medal"]},
        {emoji: "âš¡", name: "High Voltage", keywords: ["lightning", "bolt", "electric", "energy"]},
        {emoji: "ğŸ’»", name: "Laptop", keywords: ["computer", "laptop", "pc"]},
        {emoji: "âŒ¨ï¸", name: "Keyboard", keywords: ["keyboard", "typing"]},
        {emoji: "ğŸ–±ï¸", name: "Computer Mouse", keywords: ["mouse", "computer"]},
        {emoji: "ğŸ–¥ï¸", name: "Desktop Computer", keywords: ["computer", "desktop", "monitor"]},
        {emoji: "ğŸ“±", name: "Mobile Phone", keywords: ["phone", "mobile", "smartphone"]},
        {emoji: "â˜ï¸", name: "Telephone", keywords: ["phone", "call"]},
        {emoji: "ğŸ“", name: "Telephone Receiver", keywords: ["phone", "call"]},
        {emoji: "âœ…", name: "Check Mark Button", keywords: ["check", "done", "yes", "complete"]},
        {emoji: "âŒ", name: "Cross Mark", keywords: ["x", "no", "wrong", "cancel"]},
        {emoji: "âš ï¸", name: "Warning", keywords: ["warning", "caution", "alert"]},
        {emoji: "â—", name: "Exclamation Mark", keywords: ["exclamation", "important", "alert"]},
        {emoji: "â“", name: "Question Mark", keywords: ["question", "help"]},
        {emoji: "ğŸ’¡", name: "Light Bulb", keywords: ["idea", "light", "bulb", "innovation"]},
        {emoji: "ğŸ”", name: "Magnifying Glass Tilted Left", keywords: ["search", "find", "zoom"]},
        {emoji: "ğŸ”", name: "Magnifying Glass Tilted Right", keywords: ["search", "find", "zoom"]},
        {emoji: "ğŸ“", name: "Memo", keywords: ["note", "write", "document", "text"]},
        {emoji: "ğŸ“‹", name: "Clipboard", keywords: ["clipboard", "copy", "paste"]},
        {emoji: "ğŸ“Œ", name: "Pushpin", keywords: ["pin", "important"]},
        {emoji: "ğŸ“", name: "Round Pushpin", keywords: ["pin", "location"]},
        {emoji: "ğŸš€", name: "Rocket", keywords: ["rocket", "space", "launch"]},
        {emoji: "ğŸ¯", name: "Direct Hit", keywords: ["target", "bullseye", "goal"]},
        {emoji: "â°", name: "Alarm Clock", keywords: ["alarm", "clock", "time"]},
        {emoji: "â±ï¸", name: "Stopwatch", keywords: ["stopwatch", "timer"]},
        {emoji: "â²ï¸", name: "Timer Clock", keywords: ["timer", "clock"]},
        {emoji: "ğŸ””", name: "Bell", keywords: ["bell", "notification", "alert"]},
        {emoji: "ğŸ”•", name: "Bell with Slash", keywords: ["mute", "silent", "no notification"]},
        {emoji: "ğŸµ", name: "Musical Note", keywords: ["music", "note"]},
        {emoji: "ğŸ¶", name: "Musical Notes", keywords: ["music", "notes", "song"]},
        {emoji: "ğŸ“·", name: "Camera", keywords: ["camera", "photo", "picture"]},
        {emoji: "ğŸ“¸", name: "Camera with Flash", keywords: ["camera", "photo", "flash"]},
        {emoji: "ğŸ¬", name: "Clapper Board", keywords: ["movie", "film", "action"]},
        {emoji: "ğŸ®", name: "Video Game", keywords: ["game", "gaming", "controller"]},
        {emoji: "ğŸ²", name: "Game Die", keywords: ["dice", "game", "random"]},
        {emoji: "ğŸƒ", name: "Joker", keywords: ["card", "joker", "playing card"]},
        {emoji: "ğŸ¨", name: "Artist Palette", keywords: ["art", "paint", "color"]},
        {emoji: "ğŸ–Œï¸", name: "Paintbrush", keywords: ["brush", "paint", "art"]},
        {emoji: "âœï¸", name: "Pencil", keywords: ["pencil", "write", "draw"]},
        {emoji: "ğŸ“š", name: "Books", keywords: ["books", "library", "read"]},
        {emoji: "ğŸ“–", name: "Open Book", keywords: ["book", "read"]},
        {emoji: "ğŸ”–", name: "Bookmark", keywords: ["bookmark", "save"]},
        {emoji: "ğŸŒŸ", name: "Glowing Star", keywords: ["star", "favorite", "glow"]},
        {emoji: "ğŸ’", name: "Gem Stone", keywords: ["gem", "diamond", "jewel"]},
        {emoji: "ğŸ‘‘", name: "Crown", keywords: ["crown", "king", "queen", "royal"]},
        {emoji: "ğŸ“", name: "Graduation Cap", keywords: ["graduation", "education", "school"]},
        {emoji: "ğŸ…", name: "Sports Medal", keywords: ["medal", "sports", "award"]},
        {emoji: "ğŸ–ï¸", name: "Military Medal", keywords: ["medal", "military", "honor"]},
        {emoji: "ğŸŒˆ", name: "Rainbow", keywords: ["rainbow", "colors", "pride"]},
        {emoji: "â˜€ï¸", name: "Sun", keywords: ["sun", "sunny", "bright"]},
        {emoji: "ğŸŒ™", name: "Crescent Moon", keywords: ["moon", "night"]},
        {emoji: "â­", name: "Star", keywords: ["star", "favorite"]},
        {emoji: "ğŸ’¥", name: "Collision", keywords: ["boom", "explosion", "impact"]},
        {emoji: "ğŸ’¦", name: "Sweat Droplets", keywords: ["water", "sweat", "drops"]},
        {emoji: "ğŸ’¨", name: "Dashing Away", keywords: ["fast", "wind", "dash"]},
        {emoji: "ğŸ•", name: "Pizza", keywords: ["pizza", "food"]},
        {emoji: "ğŸ”", name: "Hamburger", keywords: ["burger", "food"]},
        {emoji: "ğŸŸ", name: "French Fries", keywords: ["fries", "food"]},
        {emoji: "ğŸŒ®", name: "Taco", keywords: ["taco", "food"]},
        {emoji: "ğŸŒ¯", name: "Burrito", keywords: ["burrito", "food"]},
        {emoji: "ğŸ¿", name: "Popcorn", keywords: ["popcorn", "movie", "food"]},
        {emoji: "â˜•", name: "Hot Beverage", keywords: ["coffee", "tea", "hot"]},
        {emoji: "ğŸº", name: "Beer Mug", keywords: ["beer", "drink", "alcohol"]},
        {emoji: "ğŸ»", name: "Clinking Beer Mugs", keywords: ["beer", "cheers", "toast"]},
        {emoji: "ğŸ·", name: "Wine Glass", keywords: ["wine", "drink", "alcohol"]},
        {emoji: "ğŸ¥‚", name: "Clinking Glasses", keywords: ["champagne", "toast", "celebrate"]},
        {emoji: "ğŸ°", name: "Shortcake", keywords: ["cake", "dessert", "birthday"]},
        {emoji: "ğŸ‚", name: "Birthday Cake", keywords: ["cake", "birthday", "celebrate"]},
        {emoji: "ğŸª", name: "Cookie", keywords: ["cookie", "dessert"]},
        {emoji: "ğŸ©", name: "Doughnut", keywords: ["donut", "dessert"]},
        {emoji: "ğŸ¦", name: "Soft Ice Cream", keywords: ["ice cream", "dessert"]},
        {emoji: "ğŸ¨", name: "Ice Cream", keywords: ["ice cream", "dessert"]},
        {emoji: "ğŸ§Š", name: "Ice", keywords: ["ice", "cold", "cube"]},
        {emoji: "ğŸ¥¤", name: "Cup with Straw", keywords: ["drink", "soda", "cup"]},
        {emoji: "ğŸ¶", name: "Dog Face", keywords: ["dog", "puppy", "pet"]},
        {emoji: "ğŸ±", name: "Cat Face", keywords: ["cat", "kitten", "pet"]},
        {emoji: "ğŸ­", name: "Mouse Face", keywords: ["mouse", "pet"]},
        {emoji: "ğŸ¹", name: "Hamster", keywords: ["hamster", "pet"]},
        {emoji: "ğŸ°", name: "Rabbit Face", keywords: ["rabbit", "bunny", "pet"]},
        {emoji: "ğŸ¦Š", name: "Fox", keywords: ["fox", "animal"]},
        {emoji: "ğŸ»", name: "Bear", keywords: ["bear", "animal"]},
        {emoji: "ğŸ¼", name: "Panda", keywords: ["panda", "bear", "animal"]},
        {emoji: "ğŸ¨", name: "Koala", keywords: ["koala", "animal"]},
        {emoji: "ğŸ¯", name: "Tiger Face", keywords: ["tiger", "animal"]},
        {emoji: "ğŸ¦", name: "Lion", keywords: ["lion", "animal"]},
        {emoji: "ğŸ®", name: "Cow Face", keywords: ["cow", "animal"]},
        {emoji: "ğŸ·", name: "Pig Face", keywords: ["pig", "animal"]},
        {emoji: "ğŸ¸", name: "Frog", keywords: ["frog", "animal"]},
        {emoji: "ğŸµ", name: "Monkey Face", keywords: ["monkey", "animal"]},
        {emoji: "ğŸ™ˆ", name: "See-No-Evil Monkey", keywords: ["monkey", "hide", "see no evil"]},
        {emoji: "ğŸ™‰", name: "Hear-No-Evil Monkey", keywords: ["monkey", "hear no evil"]},
        {emoji: "ğŸ™Š", name: "Speak-No-Evil Monkey", keywords: ["monkey", "speak no evil"]},
        {emoji: "ğŸ”", name: "Chicken", keywords: ["chicken", "bird"]},
        {emoji: "ğŸ§", name: "Penguin", keywords: ["penguin", "bird"]},
        {emoji: "ğŸ¦", name: "Bird", keywords: ["bird"]},
        {emoji: "ğŸ¦†", name: "Duck", keywords: ["duck", "bird"]},
        {emoji: "ğŸ¦…", name: "Eagle", keywords: ["eagle", "bird"]},
        {emoji: "ğŸ¦‰", name: "Owl", keywords: ["owl", "bird", "wise"]},
        {emoji: "ğŸ¦‡", name: "Bat", keywords: ["bat", "animal", "vampire"]},
        {emoji: "ğŸº", name: "Wolf", keywords: ["wolf", "animal"]},
        {emoji: "ğŸ—", name: "Boar", keywords: ["boar", "pig", "animal"]},
        {emoji: "ğŸ´", name: "Horse Face", keywords: ["horse", "animal"]},
        {emoji: "ğŸ¦„", name: "Unicorn", keywords: ["unicorn", "fantasy", "magic"]},
        {emoji: "ğŸ", name: "Honeybee", keywords: ["bee", "insect"]},
        {emoji: "ğŸ›", name: "Bug", keywords: ["bug", "insect"]},
        {emoji: "ğŸ¦‹", name: "Butterfly", keywords: ["butterfly", "insect"]},
        {emoji: "ğŸŒ", name: "Snail", keywords: ["snail", "slow"]},
        {emoji: "ğŸ", name: "Lady Beetle", keywords: ["ladybug", "insect"]},
        {emoji: "ğŸœ", name: "Ant", keywords: ["ant", "insect"]},
        {emoji: "ğŸ•·ï¸", name: "Spider", keywords: ["spider", "insect"]},
        {emoji: "ğŸ•¸ï¸", name: "Spider Web", keywords: ["web", "spider"]},
        {emoji: "ğŸ¢", name: "Turtle", keywords: ["turtle", "slow"]},
        {emoji: "ğŸ", name: "Snake", keywords: ["snake", "animal"]},
        {emoji: "ğŸ¦", name: "Lizard", keywords: ["lizard", "reptile"]},
        {emoji: "ğŸ¦–", name: "T-Rex", keywords: ["dinosaur", "t-rex", "extinct"]},
        {emoji: "ğŸ¦•", name: "Sauropod", keywords: ["dinosaur", "extinct"]},
        {emoji: "ğŸ™", name: "Octopus", keywords: ["octopus", "sea"]},
        {emoji: "ğŸ¦‘", name: "Squid", keywords: ["squid", "sea"]},
        {emoji: "ğŸ¦", name: "Shrimp", keywords: ["shrimp", "seafood"]},
        {emoji: "ğŸ¦", name: "Lobster", keywords: ["lobster", "seafood"]},
        {emoji: "ğŸ¦€", name: "Crab", keywords: ["crab", "seafood"]},
        {emoji: "ğŸ¡", name: "Blowfish", keywords: ["fish", "blowfish"]},
        {emoji: "ğŸ ", name: "Tropical Fish", keywords: ["fish", "tropical"]},
        {emoji: "ğŸŸ", name: "Fish", keywords: ["fish"]},
        {emoji: "ğŸ¬", name: "Dolphin", keywords: ["dolphin", "sea"]},
        {emoji: "ğŸ³", name: "Spouting Whale", keywords: ["whale", "sea"]},
        {emoji: "ğŸ‹", name: "Whale", keywords: ["whale", "sea"]},
        {emoji: "ğŸ¦ˆ", name: "Shark", keywords: ["shark", "sea"]},
        {emoji: "ğŸŒ¸", name: "Cherry Blossom", keywords: ["flower", "spring", "pink"]},
        {emoji: "ğŸ’", name: "Bouquet", keywords: ["flowers", "bouquet"]},
        {emoji: "ğŸŒ¹", name: "Rose", keywords: ["rose", "flower", "love"]},
        {emoji: "ğŸ¥€", name: "Wilted Flower", keywords: ["flower", "wilted", "dead"]},
        {emoji: "ğŸŒº", name: "Hibiscus", keywords: ["flower", "tropical"]},
        {emoji: "ğŸŒ»", name: "Sunflower", keywords: ["flower", "sunflower"]},
        {emoji: "ğŸŒ¼", name: "Blossom", keywords: ["flower", "blossom"]},
        {emoji: "ğŸŒ·", name: "Tulip", keywords: ["flower", "tulip"]},
        {emoji: "ğŸŒ±", name: "Seedling", keywords: ["plant", "seedling", "grow"]},
        {emoji: "ğŸŒ²", name: "Evergreen Tree", keywords: ["tree", "pine", "forest"]},
        {emoji: "ğŸŒ³", name: "Deciduous Tree", keywords: ["tree", "forest"]},
        {emoji: "ğŸŒ´", name: "Palm Tree", keywords: ["tree", "palm", "tropical"]},
        {emoji: "ğŸŒµ", name: "Cactus", keywords: ["cactus", "desert"]},
        {emoji: "ğŸŒ¾", name: "Sheaf of Rice", keywords: ["rice", "grain"]},
        {emoji: "ğŸŒ¿", name: "Herb", keywords: ["herb", "plant", "green"]},
        {emoji: "â˜˜ï¸", name: "Shamrock", keywords: ["shamrock", "clover", "lucky"]},
        {emoji: "ğŸ€", name: "Four Leaf Clover", keywords: ["clover", "lucky", "four leaf"]},
        {emoji: "ï¿½ï¿½", name: "Maple Leaf", keywords: ["leaf", "maple", "fall"]},
        {emoji: "ğŸ‚", name: "Fallen Leaf", keywords: ["leaf", "fall", "autumn"]},
        {emoji: "ğŸƒ", name: "Leaf Fluttering in Wind", keywords: ["leaf", "wind"]}
    ]

    property var unicodeCharacters: [
        {char: "Â©", name: "Copyright Sign", keywords: ["copyright", "legal"]},
        {char: "Â®", name: "Registered Sign", keywords: ["registered", "trademark", "legal"]},
        {char: "â„¢", name: "Trade Mark Sign", keywords: ["trademark", "tm", "legal"]},
        {char: "Â°", name: "Degree Sign", keywords: ["degree", "temperature"]},
        {char: "Â±", name: "Plus-Minus Sign", keywords: ["plus minus", "math"]},
        {char: "Ã—", name: "Multiplication Sign", keywords: ["multiply", "times", "math"]},
        {char: "Ã·", name: "Division Sign", keywords: ["divide", "math"]},
        {char: "â‰ ", name: "Not Equal To", keywords: ["not equal", "math"]},
        {char: "â‰ˆ", name: "Almost Equal To", keywords: ["approximately", "about", "math"]},
        {char: "â‰¤", name: "Less Than or Equal To", keywords: ["less than equal", "math"]},
        {char: "â‰¥", name: "Greater Than or Equal To", keywords: ["greater than equal", "math"]},
        {char: "âˆ", name: "Infinity", keywords: ["infinity", "infinite", "math"]},
        {char: "âˆ‘", name: "N-Ary Summation", keywords: ["sum", "sigma", "math"]},
        {char: "âˆš", name: "Square Root", keywords: ["square root", "radical", "math"]},
        {char: "âˆ«", name: "Integral", keywords: ["integral", "calculus", "math"]},
        {char: "âˆ‚", name: "Partial Differential", keywords: ["partial", "derivative", "math"]},
        {char: "âˆ†", name: "Increment", keywords: ["delta", "change", "math"]},
        {char: "Ï€", name: "Greek Small Letter Pi", keywords: ["pi", "math", "greek"]},
        {char: "Î±", name: "Greek Small Letter Alpha", keywords: ["alpha", "greek"]},
        {char: "Î²", name: "Greek Small Letter Beta", keywords: ["beta", "greek"]},
        {char: "Î³", name: "Greek Small Letter Gamma", keywords: ["gamma", "greek"]},
        {char: "Î´", name: "Greek Small Letter Delta", keywords: ["delta", "greek"]},
        {char: "Îµ", name: "Greek Small Letter Epsilon", keywords: ["epsilon", "greek"]},
        {char: "Î¸", name: "Greek Small Letter Theta", keywords: ["theta", "greek"]},
        {char: "Î»", name: "Greek Small Letter Lambda", keywords: ["lambda", "greek"]},
        {char: "Î¼", name: "Greek Small Letter Mu", keywords: ["mu", "micro", "greek"]},
        {char: "Ïƒ", name: "Greek Small Letter Sigma", keywords: ["sigma", "greek"]},
        {char: "Î©", name: "Greek Capital Letter Omega", keywords: ["omega", "greek"]},
        {char: "â†", name: "Leftwards Arrow", keywords: ["arrow", "left"]},
        {char: "â†’", name: "Rightwards Arrow", keywords: ["arrow", "right"]},
        {char: "â†‘", name: "Upwards Arrow", keywords: ["arrow", "up"]},
        {char: "â†“", name: "Downwards Arrow", keywords: ["arrow", "down"]},
        {char: "â†”", name: "Left Right Arrow", keywords: ["arrow", "bidirectional"]},
        {char: "â‡", name: "Leftwards Double Arrow", keywords: ["double arrow", "left"]},
        {char: "â‡’", name: "Rightwards Double Arrow", keywords: ["double arrow", "right"]},
        {char: "â‡”", name: "Left Right Double Arrow", keywords: ["double arrow", "bidirectional"]},
        {char: "â€¢", name: "Bullet", keywords: ["bullet", "dot", "point"]},
        {char: "â—¦", name: "White Bullet", keywords: ["bullet", "dot", "point"]},
        {char: "â€£", name: "Triangular Bullet", keywords: ["bullet", "triangle"]},
        {char: "âƒ", name: "Hyphen Bullet", keywords: ["bullet", "dash"]},
        {char: "â€¦", name: "Horizontal Ellipsis", keywords: ["ellipsis", "dot dot dot"]},
        {char: "â€“", name: "En Dash", keywords: ["dash", "hyphen"]},
        {char: "â€”", name: "Em Dash", keywords: ["dash", "long dash"]},
        {char: "Â¡", name: "Inverted Exclamation Mark", keywords: ["exclamation", "spanish"]},
        {char: "Â¿", name: "Inverted Question Mark", keywords: ["question", "spanish"]},
        {char: "Â§", name: "Section Sign", keywords: ["section", "paragraph"]},
        {char: "Â¶", name: "Pilcrow Sign", keywords: ["paragraph", "pilcrow"]},
        {char: "â€ ", name: "Dagger", keywords: ["dagger", "footnote"]},
        {char: "â€¡", name: "Double Dagger", keywords: ["double dagger", "footnote"]},
        {char: "â€°", name: "Per Mille Sign", keywords: ["per mille", "percent"]},
        {char: "â‚¬", name: "Euro Sign", keywords: ["euro", "currency", "money"]},
        {char: "Â£", name: "Pound Sign", keywords: ["pound", "currency", "money"]},
        {char: "Â¥", name: "Yen Sign", keywords: ["yen", "currency", "money"]},
        {char: "Â¢", name: "Cent Sign", keywords: ["cent", "currency", "money"]},
        {char: "â‚¹", name: "Indian Rupee Sign", keywords: ["rupee", "currency", "money"]},
        {char: "â‚½", name: "Ruble Sign", keywords: ["ruble", "currency", "money"]},
        {char: "â‚©", name: "Won Sign", keywords: ["won", "currency", "money"]},
        {char: "Â¤", name: "Currency Sign", keywords: ["currency", "money"]},
        {char: "â˜…", name: "Black Star", keywords: ["star", "favorite"]},
        {char: "â˜†", name: "White Star", keywords: ["star", "favorite"]},
        {char: "â™ ", name: "Black Spade Suit", keywords: ["spade", "card", "suit"]},
        {char: "â™£", name: "Black Club Suit", keywords: ["club", "card", "suit"]},
        {char: "â™¥", name: "Black Heart Suit", keywords: ["heart", "card", "suit"]},
        {char: "â™¦", name: "Black Diamond Suit", keywords: ["diamond", "card", "suit"]},
        {char: "â™ª", name: "Eighth Note", keywords: ["music", "note"]},
        {char: "â™«", name: "Beamed Eighth Notes", keywords: ["music", "notes"]},
        {char: "â™¬", name: "Beamed Sixteenth Notes", keywords: ["music", "notes"]},
        {char: "â™­", name: "Music Flat Sign", keywords: ["flat", "music"]},
        {char: "â™®", name: "Music Natural Sign", keywords: ["natural", "music"]},
        {char: "â™¯", name: "Music Sharp Sign", keywords: ["sharp", "music"]},
        {char: "âœ“", name: "Check Mark", keywords: ["check", "tick", "yes"]},
        {char: "âœ—", name: "Ballot X", keywords: ["x", "cross", "no"]},
        {char: "âœ˜", name: "Heavy Ballot X", keywords: ["x", "cross", "no"]},
        {char: "â˜", name: "Ballot Box", keywords: ["checkbox", "box"]},
        {char: "â˜‘", name: "Ballot Box with Check", keywords: ["checkbox", "checked"]},
        {char: "â˜’", name: "Ballot Box with X", keywords: ["checkbox", "unchecked"]},
        {char: "âš ", name: "Warning Sign", keywords: ["warning", "caution"]},
        {char: "â˜¢", name: "Radioactive Sign", keywords: ["radioactive", "hazard"]},
        {char: "â˜£", name: "Biohazard Sign", keywords: ["biohazard", "hazard"]},
        {char: "âš¡", name: "High Voltage Sign", keywords: ["lightning", "electric", "voltage"]},
        {char: "â˜€", name: "Black Sun with Rays", keywords: ["sun", "sunny"]},
        {char: "â˜", name: "Cloud", keywords: ["cloud", "weather"]},
        {char: "â˜‚", name: "Umbrella", keywords: ["umbrella", "rain"]},
        {char: "â˜ƒ", name: "Snowman", keywords: ["snowman", "snow", "winter"]},
        {char: "â˜„", name: "Comet", keywords: ["comet", "space"]},
        {char: "â˜", name: "Black Telephone", keywords: ["phone", "telephone"]},
        {char: "â˜", name: "White Telephone", keywords: ["phone", "telephone"]},
        {char: "âœ‰", name: "Envelope", keywords: ["email", "mail", "letter"]},
        {char: "âœ", name: "Pencil", keywords: ["pencil", "write"]},
        {char: "âœ‚", name: "Black Scissors", keywords: ["scissors", "cut"]},
        {char: "â™»", name: "Black Universal Recycling Symbol", keywords: ["recycle", "recycling"]},
        {char: "â™¿", name: "Wheelchair Symbol", keywords: ["wheelchair", "accessibility"]},
        {char: "âš•", name: "Staff of Aesculapius", keywords: ["medical", "medicine"]},
        {char: "â˜®", name: "Peace Symbol", keywords: ["peace"]},
        {char: "â˜¯", name: "Yin Yang", keywords: ["yin yang", "balance"]},
        {char: "â˜¸", name: "Wheel of Dharma", keywords: ["dharma", "buddhism"]},
        {char: "âœ", name: "Latin Cross", keywords: ["cross", "christianity"]},
        {char: "â˜ª", name: "Star and Crescent", keywords: ["islam", "crescent"]},
        {char: "âœ¡", name: "Star of David", keywords: ["star of david", "judaism"]},
        {char: "â˜¦", name: "Orthodox Cross", keywords: ["cross", "orthodox"]},
        {char: "â™‚", name: "Male Sign", keywords: ["male", "gender"]},
        {char: "â™€", name: "Female Sign", keywords: ["female", "gender"]},
        {char: "âš§", name: "Transgender Symbol", keywords: ["transgender", "gender"]},
        {char: "âš²", name: "Neuter", keywords: ["neuter", "gender"]},
        {char: "âš¥", name: "Male and Female Sign", keywords: ["hermaphrodite", "gender"]},
        {char: "â˜ ", name: "Skull and Crossbones", keywords: ["skull", "death", "danger"]},
        {char: "âš°", name: "Coffin", keywords: ["coffin", "death"]},
        {char: "âš±", name: "Funeral Urn", keywords: ["urn", "death"]},
        {char: "â™¨", name: "Hot Springs", keywords: ["hot springs", "onsen"]},
        {char: "ğŸ”", name: "Alchemical Symbol for Air", keywords: ["air", "alchemy"]},
        {char: "ğŸœ‚", name: "Alchemical Symbol for Fire", keywords: ["fire", "alchemy"]},
        {char: "ğŸœ„", name: "Alchemical Symbol for Water", keywords: ["water", "alchemy"]},
        {char: "ğŸœƒ", name: "Alchemical Symbol for Earth", keywords: ["earth", "alchemy"]}
    ]

    Component.onCompleted: {
        if (pluginService) {
            trigger = pluginService.loadPluginData("emojiLauncher", "trigger", ":")
        }
    }

    function getItems(query) {
        const items = []
        const lowerQuery = query ? query.toLowerCase() : ""

        for (let i = 0; i < emojiDatabase.length; i++) {
            const emoji = emojiDatabase[i]
            if (!query ||
                emoji.name.toLowerCase().includes(lowerQuery) ||
                emoji.emoji.includes(query) ||
                emoji.keywords.some(k => k.includes(lowerQuery))) {
                items.push({
                    name: emoji.emoji + "  " + emoji.name,
                    icon: "smiley",
                    comment: emoji.keywords.join(", "),
                    action: "copy:" + emoji.emoji,
                    categories: ["Emoji & Unicode Launcher"]
                })
            }
        }

        for (let i = 0; i < unicodeCharacters.length; i++) {
            const unicode = unicodeCharacters[i]
            if (!query ||
                unicode.name.toLowerCase().includes(lowerQuery) ||
                unicode.char.includes(query) ||
                unicode.keywords.some(k => k.includes(lowerQuery))) {
                items.push({
                    name: unicode.char + "  " + unicode.name,
                    icon: "translate",
                    comment: unicode.keywords.join(", "),
                    action: "copy:" + unicode.char,
                    categories: ["Emoji & Unicode Launcher"]
                })
            }
        }

        return items.slice(0, 50)
    }

    function executeItem(item) {
        if (!item || !item.action) {
            console.warn("EmojiLauncher: Invalid item or action")
            return
        }

        const actionParts = item.action.split(":")
        const actionType = actionParts[0]
        const actionData = actionParts.slice(1).join(":")

        if (actionType === "copy") {
            Quickshell.execDetached(["sh", "-c", "echo -n '" + actionData + "' | wl-copy"])
            if (typeof ToastService !== "undefined") {
                ToastService.showInfo("Copied " + actionData + " to clipboard")
            }
        }
    }

    onTriggerChanged: {
        if (pluginService) {
            pluginService.savePluginData("emojiLauncher", "trigger", trigger)
        }
        itemsChanged()
    }
}
